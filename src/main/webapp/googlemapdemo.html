<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width">
<style type="text/css">
html,body {
	height: 100%;
	margin: 0;
	padding: 0;
}

#map {
	height: 100%;
	//width: 500px;
}
</style>
</head>
<body>
	<div id="map"></div>
	<script type="text/javascript">
		var map;
		function initMap() {
			map = new google.maps.Map(document.getElementById('map'), {
				center : {
					lat : -34.397,
					lng : 150.644
				},
				mapTypeId : google.maps.MapTypeId.ROADMAP,
				zoom : 8
			});
			var marker = new google.maps.Marker({
				position : map.getCenter(),
				map : map,
				title : 'Hello World!'
			});
			
			/* var infoWindow = new google.maps.InfoWindow({
				map : map
			}); */

			// Try HTML5 geolocation.
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(function(position) {
					var pos = {
						lat : position.coords.latitude,
						lng : position.coords.longitude
					};

					//infoWindow.setPosition(pos);
					//infoWindow.setContent('Location found.');
					map.setCenter(pos);
					marker.setPosition(pos);
					marker.setMap(map);
				}, function() {
					//handleLocationError(true, infoWindow, map.getCenter());
				});
			} else {
				// Browser doesn't support Geolocation
				//handleLocationError(false, infoWindow, map.getCenter());
			}
		}

		function handleLocationError(browserHasGeolocation, infoWindow, pos) {
			/* infoWindow.setPosition(pos);
			infoWindow
					.setContent(browserHasGeolocation ? 'Error: The Geolocation service failed.'
							: 'Error: Your browser doesn\'t support geolocation.'); */
		}
	</script>
	<script async defer
		src="http://ditu.google.cn/maps/api/js?language=zh-CN&key=AIzaSyASymYTlKwqEbAvxob28rcDNMaqd2Rups4&callback=initMap">
		
	</script>
</body>
</html>